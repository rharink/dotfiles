{{ if (eq .chezmoi.os "darwin") -}}
#!/bin/bash

set -eufo pipefail

formulae=(
    age
    awscli
    bazelisk
    buf
    bumpversion
    curl
    cmake
    docker
    dust
    fd
    fnm
    font-jetbrains-mono-nerd-font
    git
    git-delta
    git-gui
    git-lfs
    gpg-suite-no-mail
    gpg2
    hledger
    ibazel
    just
    jq
    jetbrains-toolbox
    less
    nushell
    nvm
    neovim
    pandoc
    pueue
    pulumi
    protobuf
    ranger
    shellcheck
    starship
    tmux
    tokei
    tree-sitter
    wget
    zoxide
)
casks=(
    1password
    1password-cli
    amethyst
    arc
    blender
    discord
    google-drive
    iterm2
    kap
    karabiner-elements
    little-snitch
    micro-snitch
    orbstack
    reminders-menubar
    readdle-spark
    spotify
    tailscale
    timing
    slack
    whatsapp
)

brew update

brew tap homebrew/cask-fonts

brew install --force "${formulae[@]}"
brew install --force --cask "${casks[@]}"

brew cleanup
{{ end }}
